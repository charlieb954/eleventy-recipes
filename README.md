# ELEVENTY RECIPES

[![Eleventy Build](https://github.com/charlieb954/eleventy-recipes/actions/workflows/eleventy_build.yml/badge.svg)](https://github.com/charlieb954/eleventy-recipes/actions/workflows/eleventy_build.yml)

A personal recipe book built with [Eleventy](https://www.11ty.dev/) and deployed to GitHub Pages. This project serves as a clean, simple, and ad-free home for my favorite recipes, generated from simple Markdown files.

[View a demo here](https://charlieb954.github.io/eleventy-recipes)

## âœ¨ Features

- **Simple Content Management**: Recipes are just Markdown files. Easy to write, easy to edit.
- **Fast and Lightweight**: Built as a static site with Eleventy.
- **Automated Deployments**: Pushing to the `main` branch automatically builds and deploys the site using GitHub Actions.
- **Clean, Minimalist Design**: Just the recipes, no distractions.

## ðŸš€ Getting Started

To run this project locally:

1. **Clone the repository:**

    ```bash
    git clone https://github.com/charlieb954/eleventy-recipes.git
    cd eleventy-recipes
    ```

2. **Install dependencies:**

    ```bash
    npm install
    ```

3. **Run the development server, the site will be available at `http://localhost:8080`.:**

    ```bash
    npx start
    ```

## ðŸ“‚ Project Structure

Here's a breakdown of the key files and directories:

```
eleventy-recipes/
â”œâ”€â”€ .eleventy.js        # Eleventy configuration file.
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ eleventy_build.yml # GitHub Actions workflow for deployment.
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ _includes/
â”‚   â”‚   â””â”€â”€ layouts/    # HTML layouts (base, home, recipe).
â”‚   â”œâ”€â”€ css/            # Stylesheets.
â”‚   â”œâ”€â”€ desserts/       # Dessert recipe Markdown files.
â”‚   â”œâ”€â”€ mains/          # Main course recipe Markdown files.
â”‚   â””â”€â”€ index.md        # The home page content.
â”œâ”€â”€ docs/               # The output directory for the generated site.
â””â”€â”€ package.json        # Project metadata and dependencies.
```

- **`.eleventy.js`**: Configures Eleventy. It sets up template engines (`njk`), defines the input (`src`) and output (`docs`) directories, and handles passthrough file copying for assets like CSS.
- **`src/`**: Contains all the source files for the website.
  - `_includes/layouts/`: The Nunjucks templates that define the structure of the pages.
  - `mains/`, `desserts/`: These folders contain the individual recipes as Markdown files. Eleventy uses collections to group them.
  - `index.md`: The content for the homepage, which lists all the recipes.
- **`.github/workflows/eleventy_build.yml`**: Defines the CI/CD pipeline. On every push to the `main` branch, it checks out the code, installs dependencies, builds the Eleventy site, and deploys the contents of the `docs` folder to the `gh-pages` branch.

## ðŸ¤– Deployment

This project uses the `peaceiris/actions-gh-pages` action to deploy the site.

To use GitHub Pages with a deploy key, a public/private SSH key pair is needed. The private key is stored as a repository secret (`ACTIONS_DEPLOY_KEY`), and the public key is added as a deploy key in the repository settings with write access.

## .nojekyll

GitHub pages attempts to use Jekyll to build a static website, this empty file
tells GitHub not to use Jekyll.

## .github

This folder contains the 'workflows' folder which contains the
'elementy_build.yml' file. This is the deployment method that's used by GitHub
actions. It tells GitHub that any time a change occurs to the 'main' branch, to
rebuild the website and deploy it.

## package-lock.json

package-lock.json is a file that is automatically generated by npm when a
package is installed.

## package.json

package.json files contain descriptive and functional metadata about a project,
such as a name, version, and dependencies. Here we can also include 'scripts'
that are actioned. For example, there's one for 'npm start' which will sever the
eleventy webpage.

## branches

When the '.github/workflows/eleventy_build.yml' file is actioned by a change to
the 'main' branch, the output will be a new branch called gh-pages. This is the
current deployment of the website.

## Other notes

To install eleventy head over to the
[docs](https://www.11ty.dev/docs/getting-started/).

Once insatlled, to run the website run the following command from the root file.

    npx @11ty/eleventy --serve

or because of the script we created in package.json

    npm start
